"use strict";
/**
 * Shared location alias resolver.
 * Maps countries, US states, regions, and city abbreviations
 * to representative cities, with preference ordering so that
 * services with more specific data can use it.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveLocation = resolveLocation;
// Each key maps to an ordered list of candidate cities.
// The resolver picks the first candidate that exists in the caller's data.
const LOCATION_MAP = {
    // ── US States ─────────────────────────────────────────────────────────
    'alabama': ['nashville', 'miami', 'new york'],
    'alaska': ['seattle', 'los angeles', 'new york'],
    'arizona': ['los angeles', 'new york'],
    'arkansas': ['nashville', 'new york'],
    'california': ['los angeles', 'san francisco', 'new york'],
    'colorado': ['los angeles', 'chicago', 'new york'],
    'connecticut': ['new york'],
    'delaware': ['new york'],
    'florida': ['miami', 'new york'],
    'georgia': ['nashville', 'miami', 'new york'],
    'hawaii': ['tokyo', 'los angeles', 'new york'],
    'idaho': ['los angeles', 'chicago', 'new york'],
    'illinois': ['chicago', 'new york'],
    'indiana': ['chicago', 'nashville', 'new york'],
    'iowa': ['chicago', 'new york'],
    'kansas': ['chicago', 'new york'],
    'kentucky': ['nashville', 'chicago', 'new york'],
    'louisiana': ['new orleans', 'nashville', 'miami', 'new york'],
    'maine': ['new york'],
    'maryland': ['new york'],
    'massachusetts': ['new york'],
    'michigan': ['chicago', 'new york'],
    'minnesota': ['chicago', 'new york'],
    'mississippi': ['nashville', 'miami', 'new york'],
    'missouri': ['chicago', 'nashville', 'new york'],
    'montana': ['los angeles', 'chicago', 'new york'],
    'nebraska': ['chicago', 'new york'],
    'nevada': ['los angeles', 'new york'],
    'new hampshire': ['new york'],
    'new jersey': ['new york'],
    'new mexico': ['los angeles', 'new york'],
    'new york state': ['new york'],
    'north carolina': ['nashville', 'miami', 'new york'],
    'north dakota': ['chicago', 'new york'],
    'ohio': ['chicago', 'new york'],
    'oklahoma': ['nashville', 'los angeles', 'new york'],
    'oregon': ['los angeles', 'san francisco', 'new york'],
    'pennsylvania': ['new york'],
    'rhode island': ['new york'],
    'south carolina': ['miami', 'nashville', 'new york'],
    'south dakota': ['chicago', 'new york'],
    'tennessee': ['nashville', 'new york'],
    'texas': ['los angeles', 'nashville', 'new york'],
    'utah': ['los angeles', 'chicago', 'new york'],
    'vermont': ['new york'],
    'virginia': ['new york'],
    'washington state': ['los angeles', 'san francisco', 'new york'],
    'washington': ['new york'],
    'west virginia': ['nashville', 'new york'],
    'wisconsin': ['chicago', 'new york'],
    'wyoming': ['los angeles', 'chicago', 'new york'],
    // ── Countries ─────────────────────────────────────────────────────────
    'usa': ['new york'],
    'united states': ['new york'],
    'america': ['new york'],
    'uk': ['london', 'new york'],
    'united kingdom': ['london', 'new york'],
    'england': ['london', 'new york'],
    'britain': ['london', 'new york'],
    'scotland': ['london', 'new york'],
    'wales': ['london', 'new york'],
    'northern ireland': ['london', 'new york'],
    'ireland': ['london', 'new york'],
    'france': ['paris', 'london', 'new york'],
    'germany': ['berlin', 'london', 'new york'],
    'italy': ['paris', 'london', 'new york'],
    'spain': ['barcelona', 'paris', 'london', 'new york'],
    'portugal': ['paris', 'london', 'new york'],
    'netherlands': ['london', 'paris', 'new york'],
    'holland': ['london', 'paris', 'new york'],
    'belgium': ['paris', 'london', 'new york'],
    'switzerland': ['paris', 'london', 'new york'],
    'austria': ['paris', 'london', 'new york'],
    'greece': ['barcelona', 'paris', 'london', 'new york'],
    'turkey': ['london', 'new york'],
    'russia': ['london', 'new york'],
    'poland': ['berlin', 'london', 'new york'],
    'czech republic': ['berlin', 'london', 'new york'],
    'hungary': ['berlin', 'london', 'new york'],
    'romania': ['london', 'new york'],
    'croatia': ['barcelona', 'paris', 'new york'],
    'japan': ['tokyo', 'new york'],
    'south korea': ['seoul', 'tokyo', 'new york'],
    'korea': ['seoul', 'tokyo', 'new york'],
    'china': ['tokyo', 'new york'],
    'taiwan': ['tokyo', 'new york'],
    'singapore': ['tokyo', 'bangkok', 'new york'],
    'thailand': ['bangkok', 'tokyo', 'new york'],
    'vietnam': ['ho chi minh city', 'bangkok', 'tokyo', 'new york'],
    'indonesia': ['bangkok', 'tokyo', 'new york'],
    'philippines': ['bangkok', 'tokyo', 'new york'],
    'malaysia': ['bangkok', 'tokyo', 'new york'],
    'cambodia': ['bangkok', 'tokyo', 'new york'],
    'myanmar': ['bangkok', 'tokyo', 'new york'],
    'laos': ['bangkok', 'tokyo', 'new york'],
    'india': ['bangkok', 'tokyo', 'london', 'new york'],
    'nepal': ['bangkok', 'tokyo', 'new york'],
    'sri lanka': ['bangkok', 'tokyo', 'new york'],
    'pakistan': ['london', 'new york'],
    'bangladesh': ['bangkok', 'tokyo', 'new york'],
    'australia': ['london', 'los angeles', 'new york'],
    'new zealand': ['london', 'los angeles', 'new york'],
    'canada': ['new york'],
    'mexico': ['los angeles', 'miami', 'new york'],
    'brazil': ['miami', 'new york'],
    'argentina': ['miami', 'new york'],
    'colombia': ['miami', 'new york'],
    'peru': ['miami', 'los angeles', 'new york'],
    'chile': ['miami', 'new york'],
    'cuba': ['miami', 'new york'],
    'ecuador': ['miami', 'new york'],
    'venezuela': ['miami', 'new york'],
    'costa rica': ['miami', 'new york'],
    'panama': ['miami', 'new york'],
    'dominican republic': ['miami', 'new york'],
    'puerto rico': ['miami', 'new york'],
    'jamaica': ['miami', 'new york'],
    'egypt': ['london', 'new york'],
    'south africa': ['london', 'new york'],
    'morocco': ['london', 'paris', 'new york'],
    'nigeria': ['london', 'new york'],
    'kenya': ['london', 'new york'],
    'ethiopia': ['london', 'new york'],
    'tanzania': ['london', 'new york'],
    'ghana': ['london', 'new york'],
    'saudi arabia': ['london', 'new york'],
    'uae': ['london', 'new york'],
    'united arab emirates': ['london', 'new york'],
    'israel': ['london', 'new york'],
    'jordan': ['london', 'new york'],
    'qatar': ['london', 'new york'],
    'iran': ['london', 'new york'],
    'iraq': ['london', 'new york'],
    // ── Canadian Provinces ────────────────────────────────────────────────
    'ontario': ['new york', 'chicago'],
    'quebec': ['paris', 'new york'],
    'british columbia': ['los angeles', 'san francisco', 'new york'],
    'alberta': ['chicago', 'los angeles', 'new york'],
    'manitoba': ['chicago', 'new york'],
    'saskatchewan': ['chicago', 'new york'],
    'nova scotia': ['new york'],
    'new brunswick': ['new york'],
    'prince edward island': ['new york'],
    'newfoundland': ['new york'],
    // ── Australian States ─────────────────────────────────────────────────
    'new south wales': ['london', 'los angeles', 'new york'],
    'victoria': ['london', 'los angeles', 'new york'],
    'queensland': ['london', 'los angeles', 'new york'],
    'western australia': ['london', 'los angeles', 'new york'],
    'south australia': ['london', 'los angeles', 'new york'],
    'tasmania': ['london', 'los angeles', 'new york'],
    // ── Regions ───────────────────────────────────────────────────────────
    'southeast asia': ['bangkok', 'tokyo', 'new york'],
    'east asia': ['tokyo', 'seoul', 'new york'],
    'south asia': ['bangkok', 'tokyo', 'london', 'new york'],
    'central asia': ['tokyo', 'london', 'new york'],
    'western europe': ['paris', 'london', 'new york'],
    'eastern europe': ['berlin', 'london', 'new york'],
    'northern europe': ['london', 'new york'],
    'southern europe': ['barcelona', 'paris', 'london', 'new york'],
    'central europe': ['berlin', 'paris', 'london', 'new york'],
    'south america': ['miami', 'new york'],
    'central america': ['miami', 'los angeles', 'new york'],
    'caribbean': ['miami', 'new york'],
    'latin america': ['miami', 'los angeles', 'new york'],
    'middle east': ['london', 'new york'],
    'north africa': ['london', 'paris', 'new york'],
    'sub-saharan africa': ['london', 'new york'],
    'west africa': ['london', 'new york'],
    'east africa': ['london', 'new york'],
    'oceania': ['london', 'los angeles', 'new york'],
    'pacific islands': ['tokyo', 'los angeles', 'new york'],
    'scandinavia': ['london', 'new york'],
    'the balkans': ['london', 'paris', 'new york'],
    'the mediterranean': ['barcelona', 'paris', 'london', 'new york'],
    'new england': ['new york'],
    'the south': ['nashville', 'miami', 'new york'],
    'the midwest': ['chicago', 'new york'],
    'the west coast': ['los angeles', 'san francisco', 'new york'],
    'the east coast': ['new york'],
    'pacific northwest': ['los angeles', 'san francisco', 'new york'],
    // ── City abbreviations & neighborhoods ────────────────────────────────
    'nyc': ['new york'],
    'ny': ['new york'],
    'manhattan': ['new york'],
    'brooklyn': ['new york'],
    'queens': ['new york'],
    'harlem': ['new york'],
    'the bronx': ['new york'],
    'la': ['los angeles'],
    'sf': ['san francisco', 'los angeles', 'new york'],
    'nola': ['new orleans', 'nashville', 'miami', 'new york'],
    'cdmx': ['los angeles', 'miami', 'new york'],
    'bkk': ['bangkok', 'tokyo', 'new york'],
    'bcn': ['barcelona', 'paris', 'london', 'new york'],
    'dc': ['new york'],
    'philly': ['new york'],
    'vegas': ['los angeles', 'new york'],
    // ── SE Asian cities ───────────────────────────────────────────────────
    'ho chi minh city': ['ho chi minh city', 'bangkok', 'tokyo', 'new york'],
    'hanoi': ['ho chi minh city', 'bangkok', 'tokyo', 'new york'],
    'saigon': ['ho chi minh city', 'bangkok', 'tokyo', 'new york'],
    'phuket': ['bangkok', 'tokyo', 'new york'],
    'chiang mai': ['bangkok', 'tokyo', 'new york'],
    'bali': ['bangkok', 'tokyo', 'new york'],
    'jakarta': ['bangkok', 'tokyo', 'new york'],
    'manila': ['bangkok', 'tokyo', 'new york'],
    'kuala lumpur': ['bangkok', 'tokyo', 'new york'],
    'phnom penh': ['bangkok', 'tokyo', 'new york'],
    'siem reap': ['bangkok', 'tokyo', 'new york'],
    // ── Other common cities not in most service data ──────────────────────
    'boston': ['new york'],
    'seattle': ['los angeles', 'san francisco', 'new york'],
    'portland': ['los angeles', 'san francisco', 'new york'],
    'denver': ['los angeles', 'chicago', 'new york'],
    'atlanta': ['nashville', 'miami', 'new york'],
    'houston': ['los angeles', 'nashville', 'new york'],
    'dallas': ['los angeles', 'nashville', 'new york'],
    'san diego': ['los angeles', 'new york'],
    'phoenix': ['los angeles', 'new york'],
    'detroit': ['chicago', 'new york'],
    'minneapolis': ['chicago', 'new york'],
    'st louis': ['chicago', 'nashville', 'new york'],
    'st. louis': ['chicago', 'nashville', 'new york'],
    'pittsburgh': ['new york', 'chicago'],
    'cleveland': ['chicago', 'new york'],
    'columbus': ['chicago', 'new york'],
    'indianapolis': ['chicago', 'nashville', 'new york'],
    'milwaukee': ['chicago', 'new york'],
    'kansas city': ['chicago', 'nashville', 'new york'],
    'san antonio': ['los angeles', 'nashville', 'new york'],
    'austin': ['los angeles', 'nashville', 'new york'],
    'sacramento': ['los angeles', 'san francisco', 'new york'],
    'san jose': ['los angeles', 'san francisco', 'new york'],
    'oakland': ['los angeles', 'san francisco', 'new york'],
    'tampa': ['miami', 'new york'],
    'orlando': ['miami', 'new york'],
    'jacksonville': ['miami', 'nashville', 'new york'],
    'fort lauderdale': ['miami', 'new york'],
    'key west': ['miami', 'new york'],
    'charlotte': ['nashville', 'miami', 'new york'],
    'raleigh': ['nashville', 'new york'],
    'savannah': ['nashville', 'miami', 'new york'],
    'charleston': ['nashville', 'miami', 'new york'],
    'louisville': ['nashville', 'chicago', 'new york'],
    'salt lake city': ['los angeles', 'chicago', 'new york'],
    'albuquerque': ['los angeles', 'new york'],
    'las vegas': ['los angeles', 'new york'],
    'honolulu': ['tokyo', 'los angeles', 'new york'],
    'anchorage': ['los angeles', 'new york'],
    'montreal': ['paris', 'new york'],
    'vancouver': ['los angeles', 'san francisco', 'new york'],
    'toronto': ['new york', 'chicago'],
    'ottawa': ['new york'],
    'calgary': ['chicago', 'los angeles', 'new york'],
    'dubai': ['london', 'tokyo', 'new york'],
    'abu dhabi': ['london', 'tokyo', 'new york'],
    'tel aviv': ['london', 'paris', 'new york'],
    'jerusalem': ['london', 'new york'],
    'mumbai': ['bangkok', 'tokyo', 'london', 'new york'],
    'delhi': ['bangkok', 'tokyo', 'london', 'new york'],
    'new delhi': ['bangkok', 'tokyo', 'london', 'new york'],
    'bangalore': ['bangkok', 'tokyo', 'london', 'new york'],
    'rio de janeiro': ['miami', 'new york'],
    'sao paulo': ['miami', 'new york'],
    'são paulo': ['miami', 'new york'],
    'buenos aires': ['miami', 'new york'],
    'lima': ['miami', 'los angeles', 'new york'],
    'bogota': ['miami', 'new york'],
    'santiago': ['miami', 'new york'],
    'cape town': ['london', 'new york'],
    'johannesburg': ['london', 'new york'],
    'nairobi': ['london', 'new york'],
    'lagos': ['london', 'new york'],
    'cairo': ['london', 'new york'],
    'marrakech': ['london', 'paris', 'new york'],
    'casablanca': ['london', 'paris', 'new york'],
    'athens': ['barcelona', 'paris', 'london', 'new york'],
    'prague': ['berlin', 'paris', 'london', 'new york'],
    'budapest': ['berlin', 'paris', 'london', 'new york'],
    'vienna': ['paris', 'london', 'new york'],
    'amsterdam': ['london', 'paris', 'new york'],
    'brussels': ['paris', 'london', 'new york'],
    'lisbon': ['paris', 'london', 'new york'],
    'dublin': ['london', 'new york'],
    'edinburgh': ['london', 'new york'],
    'stockholm': ['london', 'new york'],
    'copenhagen': ['london', 'new york'],
    'oslo': ['london', 'new york'],
    'helsinki': ['london', 'new york'],
    'moscow': ['london', 'new york'],
    'istanbul': ['london', 'new york'],
    'rome': ['paris', 'london', 'new york'],
    'milan': ['paris', 'london', 'new york'],
    'florence': ['paris', 'london', 'new york'],
    'naples': ['paris', 'london', 'new york'],
    'venice': ['paris', 'london', 'new york'],
    'madrid': ['barcelona', 'paris', 'london', 'new york'],
    'seville': ['barcelona', 'paris', 'london', 'new york'],
    'munich': ['berlin', 'london', 'new york'],
    'hamburg': ['berlin', 'london', 'new york'],
    'frankfurt': ['berlin', 'london', 'new york'],
    'lyon': ['paris', 'london', 'new york'],
    'marseille': ['paris', 'london', 'new york'],
    'nice': ['paris', 'london', 'new york'],
    'hong kong': ['tokyo', 'bangkok', 'new york'],
    'shanghai': ['tokyo', 'new york'],
    'beijing': ['tokyo', 'new york'],
    'taipei': ['tokyo', 'new york'],
    'osaka': ['tokyo', 'new york'],
    'kyoto': ['tokyo', 'new york'],
    'busan': ['seoul', 'tokyo', 'new york'],
    'sydney': ['london', 'los angeles', 'new york'],
    'melbourne': ['london', 'los angeles', 'new york'],
};
/**
 * Resolve a location input to the best matching city in the caller's data set.
 * Returns null if no match found (caller should fall back to defaults).
 */
function resolveLocation(input, availableCities) {
    const c = input.toLowerCase().trim();
    // Direct match
    if (availableCities.includes(c))
        return c;
    // Partial match (input contains a city name or vice versa)
    for (const city of availableCities) {
        if (c.includes(city) || city.includes(c))
            return city;
    }
    // Alias lookup — try each candidate in preference order
    const candidates = LOCATION_MAP[c];
    if (candidates) {
        for (const candidate of candidates) {
            if (availableCities.includes(candidate))
                return candidate;
        }
    }
    return null;
}
